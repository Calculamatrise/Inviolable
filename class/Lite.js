const defaults = {
    cr: false,
    cc: false,
    dark: false,
    di: true,
    feats: true,
    isometric: false,
    move: false,
    cloud: {
        dismissed: false,
        notification: sessionStorage.getItem("lite_version")
    },
    update: {
        dismissed: false,
        uptodate: false
    }
};

window.lite = new class Lite {
    constructor() {
        this._vars = localStorage.lite ? JSON.parse(localStorage.lite).vars : defaults,
        this.icon = document.createElement("div"),
        this.interface = document.createElement("div"),
        this.stylesheet = document.createElement("link"),
        this.createIcon(),
        this.createInterface(),
        this.createStyleSheet(),
        this.saveToLocalStorage(),
        this.init(),
        this.initCustomization(),
        this.checkForUpdate()
    }
    get head() {
        return {
            classname: "cap",
            script: GameInventoryManager.register("cap", class e extends GameInventoryManager.HeadClass {
                constructor() {
                    super(),
                    this.drawAngle = 0,
                    this.createVersion()
                }
                versions = {};
                versionName = "";
                dirty = !0;
                getVersions() {
                    return this.versions
                }
                cache(e) {
                    var r = this.versions[this.versionName];
                    r.dirty = !1;
                    var a = 115*(e=Math.max(e,1))*.17,s=112*e*.17,
                    u = r.canvas;u.width=a,
                    u.height=s;
                    var v=u.getContext("2d"),
                    l=.17*e;
                    v.save(),
                    v.scale(l,l),
                    v.strokeStyle = lite.getVar("dark") ? "#fdfdfd" : "#000000";
                    v.fillStyle = "#ffffff00";
                    v.lineCap = "round";
                    v.lineWidth = 11.5;
                    v.beginPath(),
                    v.arc(44, 50.5, 29.5, 0, 2 * Math.PI),
                    v.moveTo(15,54),
                    v.lineTo(100, 38.5),
                    v.fill(),
                    v.stroke()
                }
                setDirty(){
                    this.versions[this.versionName].dirty=!0
                }
                getBaseWidth(){
                    return 115
                }
                getBaseHeight(){
                    return 112
                }
                getDrawOffsetX(){
                    return 2.2
                }
                getDrawOffsetY(){
                    return 1
                }
                getScale(){
                    return .17
                }
            }),
            type: "1"
        }
    }
    get vars() {
        return localStorage.lite ? JSON.parse(localStorage.lite).vars : defaults;
    }
    get variables() {
        return JSON.parse(localStorage.lite).vars;
    }
    set variables(t) {
        localStorage.setItem("lite", JSON.stringify({
            vars: Object.assign(defaults, t)
        }));
    }
    init() {
        for (const t in this.vars) {
            let element = this.interface.querySelector("#" + t);
            if (element) {
                if (t == "cc") {
                    element.parentElement.onclick = element.onchange = () => {
                        element.style.background = element.value || "#000000",
                        this.setVar(t, element.value),
                        element.click()
                    }
                    continue
                }
                element.parentElement.onclick = element.onclick = () => {
                    element.checked = !element.checked,
                    this.setVar(t, !this.getVar(t));
                    if (t == "dark")
                        GameManager.game.currentScene.track.undraw(),
                        document.querySelector(".lite.icon").style["background-color"] = this.getVar("dark") ? "#1d1d1d" : "#ffffff",
                        document.querySelector(".lite.icon").style.fill = this.getVar("dark") ? "#ffffff" : "#1d1d1d";
                }
            }
        }
        let loc = location.pathname;
        window.onclick = () => {
            if (location.pathname != loc) {
                this.initCustomization();
                loc = location.pathname;
            }
        }
        window.onpopstate = () => {
            this.initCustomization();
        }
    }
    createIcon() {
        this.icon.className = "lite icon";
        this.icon.style = `background-color: ${this.getVar("dark") ? "#1d1d1d" : "#ffffff"}; fill: ${this.getVar("dark") ? "#ffffff" : "#1d1d1d"}`;
        this.icon.innerHTML = `<svg width="32pt" height="32pt" style="width: 32px; height: 32px">
            <path d="M 5.054688 4.414062 C 5.011719 4.5 5.066406 4.511719 5.179688 4.46875 C 5.4375 4.371094 5.480469 4.269531 5.28125 4.269531 C 5.195312 4.269531 5.097656 4.328125 5.054688 4.414062 Z M 5.054688 4.414062 "/>
            <path d="M 15.117188 5.265625 C 14.25 5.464844 13.523438 6.40625 13.523438 7.300781 C 13.523438 7.730469 13.464844 7.800781 13.097656 7.871094 C 12.8125 7.929688 12.539062 8.15625 12.242188 8.570312 C 12.015625 8.910156 11.757812 9.253906 11.671875 9.351562 C 11.601562 9.453125 11.53125 9.59375 11.53125 9.679688 C 11.53125 9.75 11.488281 9.820312 11.417969 9.820312 C 11.359375 9.820312 11.1875 10.050781 11.046875 10.320312 C 10.890625 10.589844 10.71875 10.820312 10.648438 10.820312 C 10.589844 10.820312 10.535156 10.917969 10.535156 11.03125 C 10.535156 11.144531 10.476562 11.246094 10.421875 11.246094 C 10.363281 11.246094 10.191406 11.460938 10.035156 11.699219 C 9.894531 11.957031 9.738281 12.199219 9.679688 12.242188 C 9.636719 12.285156 9.367188 12.65625 9.066406 13.066406 C 8.65625 13.652344 8.539062 13.9375 8.539062 14.449219 C 8.539062 14.988281 8.597656 15.117188 9.011719 15.417969 C 9.253906 15.601562 10.0625 15.941406 10.777344 16.171875 C 11.984375 16.539062 12.328125 16.78125 11.972656 17.011719 C 11.898438 17.054688 11.800781 17.023438 11.742188 16.941406 C 11.585938 16.683594 10.675781 16.78125 10.136719 17.140625 C 9.578125 17.496094 8.753906 18.347656 8.414062 18.933594 C 7.886719 19.816406 7.542969 20.597656 7.542969 20.882812 C 7.542969 21.054688 7.488281 21.222656 7.417969 21.265625 C 7.144531 21.4375 6.859375 24.425781 7.101562 24.667969 C 7.1875 24.753906 7.261719 24.96875 7.261719 25.152344 C 7.261719 25.339844 7.402344 25.707031 7.574219 25.980469 C 8.5 27.386719 10.179688 27.058594 11.542969 25.195312 C 12 24.570312 12.753906 22.988281 12.882812 22.378906 C 12.96875 21.949219 13.011719 21.90625 13.394531 21.992188 C 13.992188 22.121094 14.292969 21.78125 14.191406 21.066406 C 14.121094 20.554688 14.148438 20.511719 14.535156 20.425781 C 14.761719 20.371094 14.945312 20.285156 14.945312 20.214844 C 14.945312 20.15625 15.132812 20.027344 15.359375 19.929688 C 15.773438 19.757812 16.371094 18.875 16.183594 18.703125 C 16.128906 18.648438 16 18.789062 15.914062 19.046875 C 15.800781 19.316406 15.617188 19.515625 15.386719 19.574219 C 15.019531 19.671875 14.191406 20.183594 14.121094 20.382812 C 14.09375 20.441406 13.878906 20.5 13.652344 20.5 C 13.339844 20.5 13.238281 20.425781 13.238281 20.226562 C 13.238281 20.070312 13.308594 19.898438 13.378906 19.859375 C 13.464844 19.816406 13.523438 19.617188 13.523438 19.417969 C 13.523438 19.144531 13.59375 19.074219 13.863281 19.074219 C 14.25 19.074219 15.089844 18.335938 15.089844 17.992188 C 15.089844 17.878906 15.144531 17.792969 15.203125 17.792969 C 15.332031 17.792969 15.6875 16.910156 15.585938 16.8125 C 15.5 16.738281 15.53125 16.699219 14.976562 17.539062 C 14.71875 17.90625 14.519531 18.261719 14.519531 18.335938 C 14.519531 18.503906 13.835938 18.859375 13.707031 18.746094 C 13.652344 18.691406 13.75 18.460938 13.9375 18.25 C 14.105469 18.035156 14.421875 17.59375 14.632812 17.253906 C 14.847656 16.925781 15.160156 16.613281 15.332031 16.570312 C 15.5 16.527344 15.773438 16.226562 15.929688 15.929688 C 16.285156 15.261719 16.300781 15.132812 16.015625 15.429688 C 15.898438 15.542969 15.800781 15.6875 15.800781 15.742188 C 15.800781 15.871094 15.058594 16.511719 14.902344 16.511719 C 14.847656 16.511719 14.734375 16.65625 14.648438 16.839844 C 14.5625 17.023438 14.363281 17.253906 14.191406 17.351562 C 13.9375 17.507812 13.90625 17.507812 14.0625 17.351562 C 14.148438 17.253906 14.234375 16.980469 14.234375 16.769531 C 14.234375 16.554688 14.304688 16.371094 14.378906 16.371094 C 14.578125 16.371094 14.5625 15.929688 14.347656 15.488281 C 14.136719 15.046875 12.953125 14.449219 12.527344 14.5625 C 12.371094 14.605469 12.242188 14.578125 12.242188 14.519531 C 12.242188 14.378906 11.316406 14.09375 10.890625 14.09375 C 10.632812 14.105469 10.621094 14.105469 10.859375 14.25 C 10.988281 14.320312 11.175781 14.347656 11.246094 14.304688 C 11.332031 14.261719 11.386719 14.292969 11.386719 14.363281 C 11.386719 14.449219 11.515625 14.519531 11.671875 14.519531 C 11.828125 14.519531 12.070312 14.578125 12.214844 14.648438 C 12.339844 14.71875 12.769531 14.890625 13.140625 15.019531 C 13.507812 15.144531 13.921875 15.417969 14.050781 15.601562 C 14.25 15.914062 14.25 16.027344 14.019531 16.839844 C 13.878906 17.324219 13.679688 17.851562 13.578125 18.007812 C 13.464844 18.164062 13.378906 18.519531 13.378906 18.820312 C 13.378906 19.101562 13.308594 19.515625 13.222656 19.730469 C 13.039062 20.257812 13.167969 20.726562 13.539062 20.824219 C 13.964844 20.941406 13.835938 21.410156 13.351562 21.464844 C 12.953125 21.507812 12.382812 22.09375 12.382812 22.433594 C 12.382812 22.535156 12.226562 22.976562 12.042969 23.402344 C 11.230469 25.238281 10.105469 26.335938 9.039062 26.335938 C 8.398438 26.335938 8.171875 26.164062 7.773438 25.378906 C 7.472656 24.78125 7.542969 22.019531 7.886719 21.066406 C 8.796875 18.578125 10.25 17.109375 11.574219 17.324219 C 12.027344 17.394531 12.113281 17.351562 12.257812 17.054688 C 12.527344 16.441406 12.257812 16.199219 10.621094 15.601562 C 8.582031 14.859375 8.5 14.5625 9.835938 12.753906 L 10.546875 11.785156 L 10.875 12.085938 C 11.21875 12.414062 11.386719 12.46875 11.386719 12.242188 C 11.386719 12.15625 11.316406 12.101562 11.230469 12.101562 C 10.875 12.101562 10.648438 11.671875 10.789062 11.273438 L 10.933594 10.890625 L 11.089844 11.273438 C 11.261719 11.730469 11.6875 11.785156 12.597656 11.460938 C 12.910156 11.34375 13.28125 11.246094 13.421875 11.246094 C 13.550781 11.246094 13.664062 11.175781 13.664062 11.101562 C 13.664062 11.019531 13.820312 10.960938 14.019531 10.960938 C 14.21875 10.960938 14.378906 10.902344 14.378906 10.832031 C 14.378906 10.734375 14.804688 10.589844 15.445312 10.476562 C 15.53125 10.460938 15.714844 10.390625 15.871094 10.304688 C 16.113281 10.191406 16.070312 10.164062 15.585938 10.105469 C 15.144531 10.050781 15.019531 9.980469 15.019531 9.765625 C 15.019531 9.296875 15.742188 9.152344 16.425781 9.496094 C 17.539062 10.050781 19.714844 10.535156 21.054688 10.535156 C 21.75 10.535156 22.148438 10.605469 22.292969 10.734375 C 22.589844 11.03125 22.535156 11.132812 22.105469 11.089844 C 21.878906 11.074219 21.539062 11.101562 21.324219 11.175781 C 21.109375 11.230469 20.738281 11.203125 20.5 11.132812 C 20.085938 10.976562 20.070312 10.988281 20.070312 11.402344 C 20.070312 11.628906 20.140625 11.816406 20.214844 11.816406 C 20.300781 11.816406 20.355469 11.730469 20.355469 11.628906 C 20.355469 11.53125 20.570312 11.445312 20.898438 11.429688 C 21.179688 11.417969 21.722656 11.359375 22.078125 11.316406 C 22.675781 11.230469 22.789062 11.261719 23.21875 11.644531 C 24.070312 12.382812 24.382812 13.238281 24.457031 14.945312 C 24.527344 16.738281 24.226562 18.191406 23.402344 19.898438 C 22.546875 21.679688 20.953125 23.058594 19.742188 23.058594 C 18.734375 23.058594 17.90625 22.347656 17.621094 21.253906 C 17.539062 20.910156 17.4375 20.613281 17.378906 20.582031 C 17.238281 20.484375 17.480469 16.796875 17.664062 16.3125 C 18.078125 15.230469 18.546875 14.234375 18.648438 14.234375 C 18.703125 14.234375 18.820312 14.390625 18.902344 14.589844 C 19.046875 14.890625 19.03125 15.058594 18.804688 15.488281 C 18.234375 16.625 18.019531 17.664062 18.007812 19.359375 C 18.007812 20.898438 18.035156 21.039062 18.40625 21.664062 C 19.089844 22.832031 19.859375 22.777344 21.140625 21.453125 C 22.632812 19.914062 23.628906 17.339844 23.628906 15.003906 C 23.628906 13.339844 23.132812 12.113281 22.347656 11.914062 C 21.9375 11.816406 20.996094 12.3125 20.554688 12.867188 C 20.085938 13.453125 19.859375 13.507812 19.742188 13.066406 C 19.6875 12.855469 19.757812 12.640625 19.957031 12.425781 C 20.300781 12.058594 20.226562 11.816406 19.886719 12.171875 C 19.757812 12.285156 19.585938 12.382812 19.5 12.382812 C 19.300781 12.382812 19.460938 13.265625 19.6875 13.394531 C 19.773438 13.453125 19.785156 13.75 19.742188 14.105469 C 19.6875 14.546875 19.742188 14.890625 19.957031 15.359375 C 20.582031 16.796875 20.667969 17.054688 20.5 17.152344 C 20.414062 17.210938 20.355469 17.140625 20.355469 17.011719 C 20.355469 16.898438 20.300781 16.683594 20.226562 16.539062 C 20.15625 16.414062 20.015625 16.085938 19.929688 15.828125 C 19.828125 15.585938 19.699219 15.375 19.628906 15.375 C 19.460938 15.375 19.472656 16.042969 19.644531 16.15625 C 19.730469 16.199219 19.785156 16.371094 19.785156 16.527344 C 19.785156 16.925781 20.3125 17.792969 20.570312 17.792969 C 20.625 17.792969 20.753906 17.707031 20.867188 17.59375 C 21.097656 17.351562 21.140625 16.796875 20.925781 16.796875 C 20.855469 16.796875 20.78125 16.640625 20.78125 16.441406 C 20.78125 16.242188 20.726562 16.085938 20.640625 16.085938 C 20.570312 16.085938 20.5 15.972656 20.5 15.828125 C 20.5 15.699219 20.355469 15.316406 20.183594 14.988281 C 19.871094 14.40625 19.871094 14.363281 20.101562 13.992188 C 20.457031 13.394531 20.726562 13.410156 20.726562 14.019531 C 20.726562 14.292969 20.667969 14.519531 20.613281 14.519531 C 20.554688 14.519531 20.5 14.449219 20.5 14.347656 C 20.5 14.261719 20.46875 14.21875 20.425781 14.261719 C 20.3125 14.378906 20.511719 15.230469 20.65625 15.230469 C 20.726562 15.230469 20.78125 15.132812 20.78125 15.019531 C 20.78125 14.902344 20.839844 14.804688 20.898438 14.804688 C 20.96875 14.804688 21.28125 14.578125 21.59375 14.304688 C 21.921875 14.035156 22.277344 13.808594 22.40625 13.808594 C 22.535156 13.808594 22.632812 13.738281 22.632812 13.664062 C 22.632812 13.578125 22.476562 13.523438 22.304688 13.523438 C 21.964844 13.523438 21.496094 13.921875 21.496094 14.207031 C 21.496094 14.292969 21.394531 14.335938 21.28125 14.292969 C 21.167969 14.234375 21.066406 14.121094 21.066406 14.007812 C 21.066406 13.894531 20.996094 13.679688 20.898438 13.539062 C 20.683594 13.195312 20.839844 12.996094 21.636719 12.539062 L 22.21875 12.214844 L 22.621094 12.65625 C 22.960938 13.023438 23.058594 13.28125 23.144531 14.050781 C 23.246094 15.03125 23.132812 16.941406 22.945312 17.082031 C 22.890625 17.125 22.832031 17.308594 22.804688 17.507812 C 22.777344 17.921875 22.691406 18.121094 22.136719 19.289062 C 21.90625 19.757812 21.621094 20.226562 21.523438 20.339844 C 21.421875 20.457031 21.222656 20.699219 21.109375 20.882812 C 20.8125 21.324219 19.742188 22.0625 19.386719 22.0625 C 19.203125 22.0625 19.03125 21.90625 18.902344 21.636719 C 18.804688 21.394531 18.675781 21.210938 18.621094 21.210938 C 18.546875 21.210938 18.503906 20.953125 18.503906 20.625 C 18.503906 20.171875 18.5625 20.027344 18.789062 19.972656 C 19.175781 19.871094 19.144531 19.417969 18.734375 19.058594 C 18.449219 18.820312 18.40625 18.675781 18.460938 18.179688 C 18.546875 17.496094 19.175781 15.53125 19.402344 15.261719 C 19.488281 15.144531 19.5 15.03125 19.417969 14.976562 C 19.261719 14.859375 18.988281 14.304688 18.859375 13.835938 C 18.761719 13.480469 18.503906 13.410156 18.503906 13.738281 C 18.503906 13.851562 18.335938 14.292969 18.136719 14.703125 C 17.921875 15.101562 17.695312 15.558594 17.636719 15.6875 C 17.566406 15.828125 17.507812 16.070312 17.507812 16.214844 C 17.507812 16.371094 17.4375 16.539062 17.351562 16.582031 C 17.265625 16.640625 17.253906 16.855469 17.296875 17.109375 C 17.367188 17.378906 17.339844 17.578125 17.238281 17.652344 C 17.140625 17.707031 17.066406 18.261719 17.054688 19.117188 L 17.039062 20.5 L 16.554688 20.5 C 16.183594 20.5 16.085938 20.441406 16.085938 20.214844 C 16.085938 19.914062 15.871094 19.828125 15.730469 20.085938 C 15.671875 20.171875 15.488281 20.285156 15.316406 20.355469 C 15.046875 20.46875 15.046875 20.484375 15.417969 20.484375 C 15.628906 20.5 15.800781 20.554688 15.800781 20.613281 C 15.800781 20.683594 15.957031 20.8125 16.15625 20.898438 C 16.371094 20.996094 16.511719 21.011719 16.511719 20.925781 C 16.511719 20.839844 16.640625 20.78125 16.78125 20.78125 C 16.980469 20.78125 17.097656 20.925781 17.152344 21.238281 C 17.28125 21.820312 17.738281 22.621094 18.136719 22.960938 C 19.074219 23.800781 20.769531 23.617188 22.035156 22.546875 C 22.535156 22.136719 23.488281 20.867188 23.488281 20.640625 C 23.488281 20.554688 23.558594 20.5 23.628906 20.5 C 23.714844 20.5 23.773438 20.371094 23.773438 20.226562 C 23.773438 20.070312 23.816406 19.929688 23.886719 19.898438 C 24.042969 19.828125 24.769531 17.609375 24.769531 17.179688 C 24.769531 16.980469 24.824219 16.78125 24.882812 16.738281 C 24.953125 16.699219 25.011719 16.171875 25.023438 15.558594 C 25.039062 14.945312 25.039062 14.40625 25.054688 14.335938 C 25.066406 14.105469 26.007812 14.25 26.304688 14.519531 C 26.675781 14.859375 26.761719 14.875 26.761719 14.578125 C 26.761719 14.449219 26.632812 14.320312 26.476562 14.277344 C 26.320312 14.234375 26.191406 14.136719 26.191406 14.0625 C 26.191406 13.964844 25.964844 13.9375 25.636719 13.992188 C 25.011719 14.0625 24.769531 13.90625 24.769531 13.4375 C 24.769531 13.253906 24.699219 13.066406 24.625 13.023438 C 24.539062 12.96875 24.511719 12.867188 24.554688 12.796875 C 24.597656 12.726562 24.570312 12.597656 24.5 12.5 C 23.730469 11.574219 23.34375 11.058594 23.34375 10.960938 C 23.34375 10.902344 23.160156 10.820312 22.917969 10.761719 C 22.691406 10.71875 22.492188 10.621094 22.492188 10.535156 C 22.492188 10.09375 21.507812 9.75 21.28125 10.105469 C 21.179688 10.277344 20.457031 10.292969 20.300781 10.136719 C 20.199219 10.050781 19.402344 9.894531 17.410156 9.59375 C 16.710938 9.480469 16.65625 9.378906 17.125 9.011719 C 17.308594 8.867188 17.539062 8.597656 17.636719 8.425781 C 17.808594 8.113281 17.835938 8.101562 18.164062 8.328125 C 18.492188 8.539062 18.503906 8.527344 18.503906 8.242188 C 18.503906 8.070312 18.390625 7.828125 18.234375 7.699219 C 18.09375 7.574219 17.921875 7.246094 17.863281 6.976562 C 17.578125 5.695312 16.414062 4.953125 15.117188 5.265625 Z M 16.65625 5.863281 C 17.140625 6.207031 17.621094 6.902344 17.480469 7.046875 C 17.4375 7.101562 17.238281 7.058594 17.054688 6.945312 C 16.882812 6.847656 16.183594 6.734375 15.515625 6.691406 C 14.136719 6.605469 13.980469 6.421875 14.789062 5.878906 C 15.402344 5.464844 16.058594 5.464844 16.65625 5.863281 Z M 14.449219 7.117188 C 14.492188 7.1875 14.933594 7.261719 15.417969 7.261719 C 16.214844 7.261719 17.222656 7.488281 17.453125 7.730469 C 17.496094 7.773438 17.351562 8.070312 17.140625 8.371094 C 16.78125 8.855469 16.65625 8.941406 16.226562 8.910156 C 15.957031 8.910156 15.542969 8.953125 15.332031 9.011719 C 14.976562 9.109375 14.859375 9.054688 14.449219 8.625 C 14.019531 8.171875 13.792969 7.53125 13.921875 7.144531 C 13.992188 6.933594 14.335938 6.917969 14.449219 7.117188 Z M 14.292969 9.097656 C 14.519531 9.296875 15.160156 10.390625 15.046875 10.390625 C 15.019531 10.390625 14.234375 10.648438 13.324219 10.976562 C 11.660156 11.558594 11.246094 11.601562 11.246094 11.175781 C 11.246094 10.605469 12.613281 8.65625 13.222656 8.355469 C 13.566406 8.183594 13.609375 8.199219 13.820312 8.539062 C 13.949219 8.738281 14.164062 8.980469 14.292969 9.097656 Z M 18.746094 19.699219 C 18.578125 20.128906 18.261719 19.957031 18.335938 19.488281 C 18.390625 19.101562 18.421875 19.074219 18.621094 19.261719 C 18.734375 19.386719 18.789062 19.585938 18.746094 19.699219 Z M 18.746094 19.699219 "/>
            <path d="M 1.722656 9.054688 C 1.722656 9.210938 1.765625 9.253906 1.808594 9.140625 C 1.851562 9.039062 1.835938 8.910156 1.792969 8.867188 C 1.75 8.8125 1.707031 8.898438 1.722656 9.054688 Z M 1.722656 9.054688 "/>
            <path d="M 16.511719 10.390625 C 16.511719 10.460938 16.414062 10.535156 16.300781 10.535156 C 16.183594 10.535156 16.085938 10.589844 16.085938 10.675781 C 16.085938 10.746094 15.886719 10.820312 15.644531 10.820312 C 15.402344 10.820312 15.003906 10.917969 14.761719 11.046875 C 13.90625 11.488281 13.808594 11.53125 13.523438 11.53125 C 13.367188 11.53125 13.238281 11.585938 13.238281 11.671875 C 13.238281 11.742188 13.109375 11.816406 12.953125 11.816406 C 12.796875 11.816406 12.554688 11.871094 12.414062 11.941406 C 12.285156 12.015625 12.042969 12.128906 11.886719 12.183594 C 11.660156 12.269531 11.644531 12.300781 11.828125 12.339844 C 11.941406 12.371094 12.242188 12.3125 12.46875 12.226562 C 13.507812 11.800781 14.21875 11.585938 14.136719 11.730469 C 14.09375 11.816406 13.835938 12.183594 13.566406 12.539062 C 13.308594 12.910156 13.097656 13.265625 13.097656 13.351562 C 13.097656 13.421875 12.996094 13.566406 12.882812 13.664062 C 12.710938 13.808594 12.511719 13.808594 11.886719 13.621094 C 11.460938 13.507812 11.101562 13.464844 11.101562 13.539062 C 11.101562 13.652344 11.417969 13.722656 11.714844 13.679688 C 11.773438 13.679688 11.816406 13.722656 11.816406 13.808594 C 11.816406 13.878906 11.972656 13.949219 12.171875 13.949219 C 12.371094 13.949219 12.527344 14.007812 12.527344 14.09375 C 12.527344 14.519531 13.28125 13.921875 13.636719 13.222656 C 13.75 13.011719 13.992188 12.683594 14.179688 12.484375 C 14.363281 12.285156 14.519531 12.042969 14.519531 11.957031 C 14.519531 11.886719 14.578125 11.816406 14.632812 11.816406 C 14.703125 11.816406 14.832031 11.660156 14.917969 11.472656 C 15.03125 11.21875 15.144531 11.144531 15.359375 11.203125 C 15.53125 11.246094 15.660156 11.332031 15.660156 11.402344 C 15.660156 11.472656 15.730469 11.53125 15.828125 11.53125 C 15.914062 11.53125 16.199219 11.6875 16.457031 11.886719 C 16.710938 12.085938 16.980469 12.242188 17.066406 12.242188 C 17.351562 12.242188 17.222656 12.597656 16.726562 13.167969 C 16.457031 13.480469 16.226562 13.78125 16.226562 13.820312 C 16.226562 14.007812 15.757812 14.105469 15.601562 13.949219 C 15.53125 13.878906 15.246094 13.808594 15.003906 13.808594 C 14.746094 13.808594 14.390625 13.75 14.191406 13.679688 C 13.835938 13.539062 13.4375 13.695312 13.566406 13.90625 C 13.621094 13.992188 14.078125 14.09375 14.605469 14.136719 C 15.117188 14.191406 15.644531 14.304688 15.757812 14.40625 C 15.941406 14.5625 16.085938 14.460938 16.683594 13.808594 C 17.066406 13.378906 17.421875 12.839844 17.464844 12.613281 C 17.507812 12.382812 17.835938 11.929688 18.179688 11.585938 C 18.503906 11.246094 18.789062 10.917969 18.789062 10.847656 C 18.789062 10.605469 18.105469 10.25 17.652344 10.25 C 17.082031 10.25 17.222656 10.476562 17.863281 10.589844 C 18.320312 10.675781 18.503906 10.917969 18.277344 11.144531 C 18.179688 11.246094 17.167969 10.734375 16.925781 10.449219 C 16.738281 10.21875 16.511719 10.179688 16.511719 10.390625 Z M 17.195312 11.101562 C 17.4375 11.332031 17.652344 11.585938 17.652344 11.660156 C 17.652344 11.984375 17.324219 11.941406 16.710938 11.515625 C 16.085938 11.089844 16.058594 11.046875 16.300781 10.859375 C 16.65625 10.621094 16.65625 10.621094 17.195312 11.101562 Z M 17.195312 11.101562 "/>
            <path d="M 26.25 11.515625 C 25.367188 11.628906 24.769531 12 24.769531 12.425781 C 24.78125 12.699219 24.796875 12.710938 24.953125 12.527344 C 25.394531 11.957031 25.808594 11.816406 27.003906 11.816406 C 28.113281 11.816406 28.214844 11.84375 28.613281 12.226562 C 28.855469 12.441406 29.039062 12.726562 29.039062 12.839844 C 29.039062 13.011719 29.265625 13.082031 29.949219 13.167969 C 30.546875 13.222656 30.960938 13.351562 31.144531 13.539062 C 31.472656 13.820312 31.886719 13.90625 31.886719 13.664062 C 31.886719 13.578125 31.785156 13.523438 31.671875 13.523438 C 31.558594 13.523438 31.460938 13.453125 31.460938 13.378906 C 31.460938 13.296875 31.359375 13.238281 31.246094 13.238281 C 31.132812 13.238281 31.03125 13.179688 31.03125 13.097656 C 31.03125 13.023438 30.660156 12.925781 30.21875 12.867188 C 29.464844 12.78125 29.351562 12.726562 29.011719 12.226562 C 28.753906 11.859375 28.457031 11.644531 28.085938 11.542969 C 27.515625 11.375 27.386719 11.375 26.25 11.515625 Z M 26.25 11.515625 "/>
            <path d="M 18.503906 13.097656 C 18.503906 13.167969 18.578125 13.238281 18.648438 13.238281 C 18.734375 13.238281 18.789062 13.167969 18.789062 13.097656 C 18.789062 13.011719 18.734375 12.953125 18.648438 12.953125 C 18.578125 12.953125 18.503906 13.011719 18.503906 13.097656 Z M 18.503906 13.097656 "/>
            <path d="M 1.023438 14.0625 C 0.867188 14.207031 0.710938 14.535156 0.683594 14.804688 C 0.65625 15.160156 0.539062 15.34375 0.328125 15.445312 C 0.140625 15.515625 0 15.628906 0 15.6875 C 0 15.859375 0.398438 15.828125 0.5 15.644531 C 0.554688 15.558594 0.683594 15.53125 0.796875 15.574219 C 0.953125 15.628906 0.996094 15.5 0.996094 15.019531 C 0.996094 14.277344 1.222656 14.09375 2.179688 14.0625 C 2.988281 14.050781 3.402344 14.292969 3.515625 14.820312 C 3.585938 15.175781 3.660156 15.230469 4.058594 15.230469 C 4.726562 15.230469 5.339844 16.070312 4.8125 16.269531 C 4.710938 16.300781 4.667969 16.382812 4.726562 16.441406 C 4.78125 16.5 4.925781 16.46875 5.039062 16.382812 C 5.152344 16.285156 5.507812 16.226562 5.820312 16.242188 C 6.136719 16.269531 6.433594 16.242188 6.476562 16.199219 C 6.605469 16.070312 6.007812 15.898438 5.820312 16.015625 C 5.75 16.070312 5.421875 15.859375 5.109375 15.53125 C 4.699219 15.117188 4.414062 14.945312 4.128906 14.945312 C 3.816406 14.945312 3.730469 14.890625 3.785156 14.734375 C 3.828125 14.621094 3.699219 14.378906 3.5 14.164062 C 3.1875 13.851562 3.019531 13.808594 2.234375 13.808594 C 1.566406 13.808594 1.253906 13.878906 1.023438 14.0625 Z M 1.023438 14.0625 "/>
            <path d="M 30.261719 14.019531 C 30.320312 14.136719 30.433594 14.234375 30.546875 14.234375 C 30.789062 14.234375 30.804688 14.476562 30.578125 14.5625 C 30.476562 14.589844 30.433594 14.675781 30.503906 14.734375 C 30.5625 14.804688 30.691406 14.777344 30.777344 14.691406 C 30.875 14.589844 31.117188 14.519531 31.332031 14.519531 C 31.542969 14.519531 31.785156 14.421875 31.886719 14.304688 C 32.058594 14.105469 32 14.09375 31.515625 14.179688 C 31.089844 14.234375 30.902344 14.207031 30.761719 14.035156 C 30.519531 13.75 30.164062 13.738281 30.261719 14.019531 Z M 30.261719 14.019531 "/>
            <path d="M 15.429688 14.703125 C 15.058594 15.132812 14.777344 15.671875 14.875 15.773438 C 14.933594 15.828125 15.019531 15.785156 15.046875 15.6875 C 15.089844 15.585938 15.203125 15.417969 15.316406 15.316406 C 15.429688 15.203125 15.515625 15.046875 15.515625 14.960938 C 15.515625 14.875 15.585938 14.804688 15.660156 14.804688 C 15.742188 14.804688 15.800781 14.734375 15.800781 14.660156 C 15.800781 14.460938 15.617188 14.492188 15.429688 14.703125 Z M 15.429688 14.703125 "/>
            <path d="M 21.765625 15.742188 C 21.792969 16.425781 21.75 17.109375 21.664062 17.28125 C 21.59375 17.4375 21.421875 17.808594 21.296875 18.078125 C 20.796875 19.132812 20.484375 19.5 20.085938 19.5 C 19.816406 19.5 19.785156 19.417969 19.785156 18.433594 C 19.785156 17.820312 19.730469 17.367188 19.644531 17.367188 C 19.558594 17.367188 19.5 17.792969 19.5 18.347656 C 19.5 18.902344 19.574219 19.386719 19.644531 19.429688 C 19.898438 19.585938 19.785156 19.800781 19.5 19.714844 C 19.34375 19.671875 19.21875 19.6875 19.21875 19.757812 C 19.21875 19.914062 19.558594 20.070312 19.871094 20.070312 C 20.371094 20.070312 21.78125 18.164062 21.78125 17.507812 C 21.78125 17.28125 21.878906 17.222656 22.21875 17.222656 C 22.476562 17.222656 22.621094 17.167969 22.5625 17.082031 C 22.503906 16.996094 22.40625 16.96875 22.335938 17.011719 C 22.0625 17.179688 21.964844 16.925781 22.0625 16.339844 C 22.191406 15.660156 22.0625 14.632812 21.851562 14.5625 C 21.765625 14.535156 21.722656 14.976562 21.765625 15.742188 Z M 21.765625 15.742188 "/>
            <path d="M 0 14.890625 C 0 15.003906 0.0703125 15.058594 0.140625 15.019531 C 0.226562 14.976562 0.285156 14.875 0.285156 14.789062 C 0.285156 14.71875 0.226562 14.660156 0.140625 14.660156 C 0.0703125 14.660156 0 14.761719 0 14.890625 Z M 0 14.890625 "/>
            <path d="M 31.742188 14.875 C 31.742188 14.988281 31.816406 15.089844 31.886719 15.089844 C 31.972656 15.089844 32.027344 14.988281 32.027344 14.875 C 32.027344 14.761719 31.972656 14.660156 31.886719 14.660156 C 31.816406 14.660156 31.742188 14.761719 31.742188 14.875 Z M 31.742188 14.875 "/>
            <path d="M 6.304688 15.1875 C 6.050781 15.21875 5.835938 15.300781 5.835938 15.386719 C 5.835938 15.460938 5.738281 15.515625 5.621094 15.515625 C 5.507812 15.515625 5.410156 15.574219 5.410156 15.660156 C 5.410156 15.84375 5.738281 15.84375 5.921875 15.671875 C 6.050781 15.53125 6.578125 15.472656 7.34375 15.5 C 7.859375 15.515625 8.539062 16.113281 8.539062 16.527344 C 8.539062 16.753906 8.65625 16.796875 9.296875 16.796875 C 9.695312 16.796875 10.136719 16.726562 10.25 16.65625 C 10.40625 16.554688 10.21875 16.511719 9.652344 16.511719 C 9.140625 16.511719 8.824219 16.457031 8.824219 16.355469 C 8.824219 16.269531 8.613281 15.984375 8.355469 15.730469 C 7.871094 15.246094 7.21875 15.074219 6.304688 15.1875 Z M 6.304688 15.1875 "/>
            <path d="M 31.261719 15.898438 C 31.101562 15.941406 30.746094 16.128906 30.460938 16.3125 C 30.164062 16.511719 29.539062 16.726562 29.023438 16.8125 C 28.527344 16.898438 28.058594 17.011719 27.972656 17.097656 C 27.898438 17.167969 27.21875 17.222656 26.449219 17.222656 C 25.609375 17.222656 25.054688 17.28125 25.054688 17.367188 C 25.054688 17.453125 25.453125 17.507812 25.949219 17.507812 C 26.449219 17.507812 26.917969 17.578125 27.003906 17.664062 C 27.144531 17.808594 27.203125 17.792969 28 17.394531 C 28.171875 17.296875 28.582031 17.195312 28.925781 17.152344 C 29.90625 17.011719 30.148438 16.953125 30.347656 16.753906 C 30.71875 16.425781 31.175781 16.226562 31.601562 16.226562 C 31.886719 16.226562 32.027344 16.15625 32.027344 16.015625 C 32.027344 15.800781 31.785156 15.773438 31.261719 15.898438 Z M 31.261719 15.898438 "/>
            <path d="M 2.5625 16.085938 C 2.449219 16.15625 2.207031 16.226562 2.035156 16.226562 C 1.835938 16.226562 1.707031 16.3125 1.707031 16.441406 C 1.707031 16.613281 1.808594 16.640625 2.105469 16.570312 C 2.320312 16.511719 2.519531 16.414062 2.535156 16.339844 C 2.648438 16.070312 3.386719 16.328125 3.84375 16.8125 C 3.957031 16.941406 4.355469 17.082031 4.738281 17.140625 C 5.109375 17.195312 5.410156 17.296875 5.410156 17.378906 C 5.410156 17.621094 5.722656 17.507812 6.007812 17.152344 C 6.164062 16.953125 6.390625 16.796875 6.519531 16.796875 C 6.847656 16.8125 7.261719 17.140625 7.261719 17.410156 C 7.261719 17.523438 7.359375 17.664062 7.488281 17.707031 C 7.859375 17.851562 8.96875 17.808594 8.96875 17.652344 C 8.96875 17.566406 8.710938 17.507812 8.414062 17.507812 C 7.972656 17.507812 7.757812 17.410156 7.359375 17.011719 C 6.789062 16.441406 6.347656 16.382812 5.878906 16.824219 C 5.59375 17.082031 5.507812 17.109375 5.195312 16.96875 C 4.996094 16.867188 4.683594 16.796875 4.511719 16.796875 C 4.339844 16.78125 3.972656 16.597656 3.699219 16.371094 C 3.1875 15.929688 2.917969 15.859375 2.5625 16.085938 Z M 2.5625 16.085938 "/>
            <path d="M 22.492188 16.371094 C 22.492188 16.441406 22.5625 16.511719 22.648438 16.511719 C 22.71875 16.511719 22.746094 16.441406 22.703125 16.371094 C 22.660156 16.285156 22.589844 16.226562 22.546875 16.226562 C 22.519531 16.226562 22.492188 16.285156 22.492188 16.371094 Z M 22.492188 16.371094 "/>
            <path d="M 27.757812 16.371094 C 27.757812 16.441406 27.886719 16.511719 28.058594 16.511719 C 28.214844 16.511719 28.300781 16.441406 28.257812 16.371094 C 28.214844 16.285156 28.070312 16.226562 27.957031 16.226562 C 27.84375 16.226562 27.757812 16.285156 27.757812 16.371094 Z M 27.757812 16.371094 "/>
            <path d="M 25.195312 16.65625 C 25.195312 16.726562 25.394531 16.796875 25.621094 16.796875 C 25.863281 16.796875 26.050781 16.726562 26.050781 16.65625 C 26.050781 16.570312 25.863281 16.511719 25.621094 16.511719 C 25.394531 16.511719 25.195312 16.570312 25.195312 16.65625 Z M 25.195312 16.65625 "/>
            <path d="M 26.761719 16.65625 C 26.761719 16.726562 26.890625 16.796875 27.046875 16.796875 C 27.203125 16.796875 27.332031 16.726562 27.332031 16.65625 C 27.332031 16.570312 27.203125 16.511719 27.046875 16.511719 C 26.890625 16.511719 26.761719 16.570312 26.761719 16.65625 Z M 26.761719 16.65625 "/>
            <path d="M 10.25 17.992188 C 9.652344 18.390625 9.265625 18.917969 8.683594 20.058594 C 7.574219 22.234375 7.53125 24.867188 8.597656 25.75 C 8.941406 26.035156 9.539062 25.808594 10.179688 25.152344 C 10.746094 24.554688 11.628906 23.046875 11.714844 22.546875 C 11.730469 22.390625 11.785156 22.207031 11.84375 22.136719 C 11.984375 21.90625 11.089844 21.980469 10.578125 22.234375 C 10.078125 22.492188 9.820312 22.363281 9.820312 21.835938 C 9.820312 21.636719 10.019531 21.410156 10.390625 21.152344 L 10.960938 20.78125 L 11.089844 21.109375 C 11.160156 21.308594 11.332031 21.496094 11.460938 21.550781 C 11.859375 21.695312 11.886719 21.652344 11.558594 21.351562 C 11.175781 20.996094 11.175781 20.925781 11.53125 19.929688 C 11.886719 18.917969 11.886719 18.347656 11.53125 17.964844 C 11.144531 17.566406 10.859375 17.566406 10.25 17.992188 Z M 11.359375 18.378906 C 11.5 18.589844 11.515625 18.71875 11.402344 18.832031 C 11.316406 18.917969 11.246094 19.117188 11.246094 19.273438 C 11.246094 19.816406 10.902344 20.484375 10.546875 20.65625 C 9.820312 21.011719 9.253906 21.507812 9.253906 21.78125 C 9.253906 22.179688 9.808594 22.777344 10.179688 22.777344 C 10.347656 22.777344 10.621094 22.648438 10.789062 22.492188 C 11.058594 22.234375 11.386719 22.105469 11.386719 22.277344 C 11.386719 22.421875 10.734375 23.699219 10.648438 23.742188 C 10.578125 23.773438 10.535156 23.871094 10.535156 23.972656 C 10.535156 24.300781 9.394531 25.339844 9.039062 25.339844 C 8.554688 25.339844 8.257812 24.640625 8.257812 23.542969 C 8.257812 22.648438 8.597656 20.96875 8.839844 20.710938 C 8.910156 20.640625 8.96875 20.46875 8.96875 20.328125 C 8.96875 20.183594 9.039062 20.070312 9.109375 20.070312 C 9.195312 20.070312 9.253906 19.972656 9.253906 19.859375 C 9.253906 19.574219 10.703125 18.078125 10.976562 18.078125 C 11.089844 18.078125 11.261719 18.21875 11.359375 18.378906 Z M 11.359375 18.378906 "/>
            <path d="M 10.535156 18.933594 C 10.535156 19.003906 10.632812 19.074219 10.746094 19.074219 C 10.859375 19.074219 10.960938 19.003906 10.960938 18.933594 C 10.960938 18.847656 10.859375 18.789062 10.746094 18.789062 C 10.632812 18.789062 10.535156 18.847656 10.535156 18.933594 Z M 10.535156 18.933594 "/>
            <path d="M 9.707031 20.085938 C 9.851562 20.328125 9.851562 20.414062 9.722656 20.457031 C 9.621094 20.5 9.539062 20.597656 9.539062 20.683594 C 9.539062 20.769531 9.722656 20.667969 9.9375 20.457031 C 10.148438 20.242188 10.40625 20.070312 10.503906 20.070312 C 10.605469 20.070312 10.675781 20 10.675781 19.929688 C 10.675781 19.84375 10.421875 19.785156 10.105469 19.785156 C 9.566406 19.785156 9.539062 19.800781 9.707031 20.085938 Z M 9.707031 20.085938 "/>
            <path d="M 8.898438 22.761719 C 8.769531 23.160156 9.082031 24.058594 9.339844 24.058594 C 9.578125 24.058594 10.25 23.429688 10.25 23.203125 C 10.25 22.976562 10.121094 23.03125 9.75 23.445312 C 9.367188 23.914062 9.253906 23.859375 9.195312 23.144531 C 9.140625 22.503906 9.023438 22.363281 8.898438 22.761719 Z M 8.898438 22.761719 "/>
            <path d="M 16.511719 17.835938 C 16.511719 17.964844 16.457031 18.078125 16.371094 18.078125 C 16.300781 18.078125 16.226562 18.179688 16.226562 18.292969 C 16.226562 18.40625 16.285156 18.503906 16.355469 18.503906 C 16.5 18.503906 16.710938 17.792969 16.582031 17.679688 C 16.539062 17.636719 16.511719 17.707031 16.511719 17.835938 Z M 16.511719 17.835938 "/>
            <path d="M 30.675781 17.75 C 30.136719 17.78125 29.082031 17.851562 28.339844 17.9375 C 27.273438 18.050781 26.976562 18.050781 26.890625 17.90625 C 26.804688 17.78125 26.703125 17.765625 26.535156 17.863281 C 26.105469 18.136719 26.320312 18.277344 27.160156 18.25 C 29.878906 18.164062 31.898438 18.019531 31.957031 17.9375 C 32.070312 17.765625 31.757812 17.722656 30.675781 17.75 Z M 30.675781 17.75 "/>
            <path d="M 31.628906 18.71875 C 31.628906 18.945312 31.660156 19.03125 31.699219 18.890625 C 31.730469 18.761719 31.730469 18.5625 31.699219 18.460938 C 31.660156 18.378906 31.628906 18.476562 31.628906 18.71875 Z M 31.628906 18.71875 "/>
            <path d="M 3.203125 19.359375 C 3.046875 19.429688 2.363281 19.488281 1.679688 19.488281 C 0.898438 19.5 0.425781 19.558594 0.425781 19.660156 C 0.425781 19.757812 0.910156 19.785156 1.878906 19.742188 C 3.542969 19.660156 4.414062 19.53125 4.414062 19.34375 C 4.414062 19.1875 3.585938 19.1875 3.203125 19.359375 Z M 3.203125 19.359375 "/>
            <path d="M 4.910156 19.359375 C 4.855469 19.445312 5.011719 19.5 5.253906 19.5 C 5.496094 19.5 5.695312 19.429688 5.695312 19.359375 C 5.695312 19.273438 5.539062 19.21875 5.351562 19.21875 C 5.152344 19.21875 4.953125 19.273438 4.910156 19.359375 Z M 4.910156 19.359375 "/>
            <path d="M 5.339844 20.101562 C 4.484375 20.171875 3.019531 20.199219 2.09375 20.15625 C 0.613281 20.101562 0.425781 20.113281 0.582031 20.300781 C 0.726562 20.46875 1.210938 20.5 3.6875 20.441406 C 6.632812 20.382812 7.460938 20.285156 7.316406 20.058594 C 7.273438 19.984375 7.160156 19.941406 7.074219 19.941406 C 6.976562 19.957031 6.207031 20.027344 5.339844 20.101562 Z M 5.339844 20.101562 "/>
            <path d="M 2.988281 25.179688 C 2.988281 25.265625 3.046875 25.367188 3.132812 25.410156 C 3.21875 25.453125 3.230469 25.394531 3.1875 25.28125 C 3.089844 25.023438 2.988281 24.980469 2.988281 25.179688 Z M 2.988281 25.179688 "/>
            <path d="M 13.421875 31.699219 C 13.550781 31.730469 13.78125 31.730469 13.921875 31.699219 C 14.050781 31.660156 13.9375 31.628906 13.664062 31.628906 C 13.394531 31.628906 13.28125 31.660156 13.421875 31.699219 Z M 13.421875 31.699219 "/>
            <path d="M 18.121094 31.699219 C 18.25 31.730469 18.449219 31.730469 18.546875 31.699219 C 18.632812 31.660156 18.535156 31.628906 18.292969 31.628906 C 18.0625 31.628906 17.980469 31.660156 18.121094 31.699219 Z M 18.121094 31.699219 "/>
        </svg>`;
        this.icon.onclick = () => {
            this.interface.style.display = this.interface.style.display == "block" ? "none" : "block";
        }
        document.body.appendChild(this.icon);
    }
    createInterface() {
        this.interface.className = "lite overlay";
        this.interface.innerHTML = `<div class="content">
            <p style="text-align: center;"><b>Free Rider Lite</b></p><br>
            <div class="lite-tabs">
                <button class="tablinks" name="options" onclick="[...document.querySelectorAll('.lite.overlay .lite-content')].forEach(t => t.style.display = 'none'), document.querySelector('.lite.overlay .lite-content.options').style.display = 'block'">Options</button>
                <button class="tablinks" name="changes" onclick="[...document.querySelectorAll('.lite.overlay .lite-content')].forEach(t => t.style.display = 'none'), document.querySelector('.lite.overlay .lite-content.changes').style.display = 'block', this.lastElementChild.style.display = 'none', lite.setVar('cloud', { dismissed: true, notification: '4.0.22' })">
                    Changes
                    <p class="lite-notification new" style="display: ${(!this.getVar("cloud").dismissed && this.getVar("cloud").notification <= "4.0.22") ? "inline-block" : "none"}">NEW!</p>
                </button>
            </div>
            <div class="lite-content options">
                <div class="option" title="Custom rider cosmetic"><input type="checkbox" id="cr" ${this.getVar("cr") ? "checked" : ""}> Canvas rider</div>
                <div class="option" title="Toggle dark mode"><input type="checkbox" id="dark" ${this.getVar("dark") ? "checked" : ""}> Dark mode</div>
                <div class="option" title="Toggle an input display"><input type="checkbox" id="di" ${this.getVar("di") ? "checked" : ""}> Input display</div>
                <div class="option" title="Displays featured ghosts on the leaderboard"><input type="checkbox" id="feats" ${this.getVar("feats") ? "checked" : ""}> Feat. ghosts</div>
                <div class="option" title="Change grid style"><input type="checkbox" id="isometric" ${this.getVar("isometric") ? "checked" : ""}> Isometric grid</div>
                <div class="option" title="Customize your bike frame"><input type="color" id="cc" value="${this.getVar("cc") || "#000000"}" style="background: ${this.getVar("cc") || "#000000"}"> Custom bike colour</div>
            </div>
            <div class="lite-content changes" style="display:none">
                <ul>
                    <li title="Normally, you could only see them from your own.">
                        Added the ability to see the last time a user has logged in from other's friends lists
                    </li>
                </ul>
            </div>
        </div>`;
        this.interface.onmousemove = function(event) {
            this.style.cursor = this == event.target ? "pointer" : "default";
        }
        this.interface.onclick = function(event) {
            this == event.target && (this.style.display = "none")
        }
        document.body.appendChild(this.interface);
    }
    createStyleSheet() {
        this.stylesheet.href = /*`chrome-extension://eoobfbpaidheakijfedonmpjolfmebjn/overlay/style.css`*/"https://calculamatrise.github.io/free_rider_lite/overlay/style.css";
        this.stylesheet.rel = "stylesheet";
        document.head.appendChild(this.stylesheet);
    }
    initCustomization() {
        if (location.pathname.match(/^\/u/gi)) {
            fetch(location.href + "?ajax=true").then(t => t.json()).then(t => {
                if (!document.querySelector(".friend-list.friends-all.active")) return;
                for (const e of [...document.querySelector(".friend-list.friends-all.active").children]) {
                    if (e.querySelector(".friend-list-item-date")) return;
                    try {
                        e.querySelector(".friend-list-item-info").appendChild(Object.assign(document.createElement("div"), {
                            className: "friend-list-item-date",
                            innerText: "Last Played " + t.friends.friends_data.find(i => i.d_name == e.querySelector(".friend-list-item-name.bold").innerText).activity_time_ago
                        }));
                    } catch(e) {}
                }
            });
        }
        if (!location.pathname.match(/^\/customization/gi)) return;
        document.querySelector("#content").innerHTML = null;
        fetch("https://raw.githubusercontent.com/Calculamatrise/Calculamatrise.github.io/master/header.html").then(t => t.text()).then(t => document.querySelector("#content").innerHTML = t);
    }
    drawInputDisplay(canvas = document.createElement('canvas')) {
        const gamepad = GameManager.game.currentScene.playerManager._players[GameManager.game.currentScene.camera.focusIndex]._gamepad.downButtons;
        const ctx = canvas.getContext('2d');
        ctx.lineJoin = "round";
        ctx.lineCap = "round";
        ctx.lineWidth = 5;
        ctx.strokeStyle = this.getVar("dark") ? "#fff" : "#000000";
        ctx.fillStyle = this.getVar("dark") ? "#fff" : "#000000";
        ctx.beginPath();
        ctx.moveTo(10, canvas.height - 10);
        ctx.lineTo(10, canvas.height - 50);
        ctx.lineTo(50, canvas.height - 50);
        ctx.lineTo(50, canvas.height - 10);
        ctx.lineTo(10, canvas.height - 10);
        !!gamepad.left && ctx.fill();
        ctx.stroke();
        ctx.beginPath();
        ctx.moveTo(10, canvas.height - 60);
        ctx.lineTo(10, canvas.height - 100);
        ctx.lineTo(50, canvas.height - 100);
        ctx.lineTo(50, canvas.height - 60);
        ctx.lineTo(10, canvas.height - 60);
        !!gamepad.z && ctx.fill();
        ctx.stroke();
        ctx.beginPath();
        ctx.moveTo(60, canvas.height - 60);
        ctx.lineTo(60, canvas.height - 100);
        ctx.lineTo(100, canvas.height - 100);
        ctx.lineTo(100, canvas.height - 60);
        ctx.lineTo(60, canvas.height - 60);
        !!gamepad.up && ctx.fill();
        ctx.stroke();
        ctx.beginPath();
        ctx.moveTo(60, canvas.height - 10);
        ctx.lineTo(60, canvas.height - 50);
        ctx.lineTo(100, canvas.height - 50);
        ctx.lineTo(100, canvas.height - 10);
        ctx.lineTo(60, canvas.height - 10);
        !!gamepad.down && ctx.fill();
        ctx.stroke();
        ctx.beginPath();
        ctx.moveTo(110, canvas.height - 10);
        ctx.lineTo(110, canvas.height - 50);
        ctx.lineTo(150, canvas.height - 50);
        ctx.lineTo(150, canvas.height - 10);
        ctx.lineTo(110, canvas.height - 10);
        !!gamepad.right && ctx.fill();
        ctx.stroke();
        ctx.lineWidth = 3;
        ctx.strokeStyle = !!gamepad.left ? (this.getVar("dark") ? "#000000" : "#fff") : (this.getVar("dark") ? "#fff" : "#000000");
        ctx.beginPath();
        ctx.moveTo(35, canvas.height - 38);
        ctx.lineTo(22, canvas.height - 30);
        ctx.lineTo(35, canvas.height - 22);
        ctx.stroke();
        ctx.strokeStyle = !!gamepad.z ? (this.getVar("dark") ? "#000000" : "#fff") : (this.getVar("dark") ? "#fff" : "#000000");
        ctx.beginPath();
        ctx.moveTo(22, canvas.height - 90);
        ctx.lineTo(37, canvas.height - 90);
        ctx.lineTo(22, canvas.height - 70);
        ctx.lineTo(37, canvas.height - 70);
        ctx.stroke();
        ctx.strokeStyle = !!gamepad.up ? (this.getVar("dark") ? "#000000" : "#fff") : (this.getVar("dark") ? "#fff" : "#000000");
        ctx.beginPath();
        ctx.moveTo(72, canvas.height - 72);
        ctx.lineTo(80, canvas.height - 88);
        ctx.lineTo(88, canvas.height - 72);
        ctx.stroke();
        ctx.strokeStyle = !!gamepad.down ? (this.getVar("dark") ? "#000000" : "#fff") : (this.getVar("dark") ? "#fff" : "#000000");
        ctx.beginPath();
        ctx.moveTo(72, canvas.height - 37);
        ctx.lineTo(80, canvas.height - 22);
        ctx.lineTo(88, canvas.height - 37);
        ctx.stroke();
        ctx.strokeStyle = !!gamepad.right ? (this.getVar("dark") ? "#000000" : "#fff") : (this.getVar("dark") ? "#fff" : "#000000");
        ctx.beginPath();
        ctx.moveTo(125, canvas.height - 38);
        ctx.lineTo(138, canvas.height - 30);
        ctx.lineTo(125, canvas.height - 22);
        ctx.stroke();
    }
    saveToLocalStorage() {
        localStorage.setItem("lite", JSON.stringify({
            vars: Object.assign(defaults, this._vars)
        }));
    }
    getVar(t) {
        return this.vars[t]
    }
    setVar(t, e) {
        if (typeof this._vars[t] == "object") {
            for (const i in e) {
                this._vars[t][i] = e[i]
            }
        } else {
            this._vars[t] = e
        }
        this.saveToLocalStorage()
    }
    checkForUpdate() {
        fetch("https://calculamatrise.github.io/free_rider_lite/details.json").then(r => r.json()).then(json => {
            if (json.version > sessionStorage.getItem("lite_version") && this.getVar("update").dismissed != !0) {
                this.setVar("update", {
                    uptodate: !0
                });
            }
            if (this.getVar("update").uptodate != !1) {
                const element = document.body;
                element.innerHTML += `<div class="mod-update-notification" id="update-notice" style="width:100%;height:50px;background-color:#2bb82b;color:#fff;position:fixed;top:0;z-index:1002;text-align:center;line-height:46px;cursor:pointer">A new version of Free Rider Lite is available!&nbsp;&nbsp;&nbsp;<button onclick="window.location.href='https://chrome.google.com/webstore/detail/mmmpacciomidmplocdcaheednkepbdkb'" id="update-button" style="height: 30px;background-color: #27ce35;border: none;border-radius: 4px;color: #fff">Update</button>&nbsp;<button class="mod-dismiss-button" id="dismiss-notice" style="height:30px;background-color:#27ce35;border:none;border-radius:4px;color: #fff">Dismiss</button></div>`;
                document.getElementById('dismiss-notice').onclick = () => {
                    this.setVar("update", {
                        uptodate: !1,
                        dismissed: !0
                    });
                    document.getElementById('update-notice').style.display = "none";
                };
                document.getElementById('update-button').onclick = () => {
                    this.setVar("update", {
                        uptodate: !1,
                        dismissed: !0
                    });
                    document.getElementById('update-notice').style.display = "none";
                };
            }
        });
    }
    createOption({ checked, description, id, onclick, title, type }) {
        const element = Object.assign(document.createElement("div"), {
            className: "option",
            innerHTML: " " + title,
            onclick: onclick || (t => {
                t.target.firstChild && (t.target.firstChild.checked = !t.target.firstChild.checked);
                if (type == "color")
                    this.setVar(id, t.target.firstChild ? t.target.firstChild.value : t.target.value);
                else
                    this.setVar(id, !this.getVar(id));
                if (id == "dark")
                    GameManager.game.currentScene.track.undraw(),
                    GameInventoryManager.redraw()
            })
        });
        element.prepend(Object.assign(document.createElement("input"), {
            type,
            id,
            title: description,
            checked: checked || false,
            onclick: element.onclick
        }));
        return element;
    }
}